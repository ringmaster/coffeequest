{
  "name": "Baker's Flour",
  "steps": [
    {
      "id": "Bakery",
      "tags": [
        "!q:baker_flour",
        "!done:baker_flour"
      ],
      "vars": {
        "baked_item": [
          "bread",
          "pastries",
          "cakes"
        ]
      },
      "text": "The baker greets you warmly. \"I'd love to serve you some {{baked_item}}, but I'm all out of flour. Could you help me?\"",
      "options": [
        {
          "label": "I'll help you",
          "tags": [],
          "pass": "bakery_accept_quest"
        },
        {
          "label": "Sorry, I'm busy",
          "tags": [],
          "pass": null
        }
      ]
    },
    {
      "id": "bakery_accept_quest",
      "tags": [
        "+q:baker_flour",
        "+quest"
      ],
      "text": "The baker smiles gratefully. 'Wonderful! Please visit the market and get some flour.'",
      "log": "Agreed to fetch flour for the baker"
    },
    {
      "id": "Bakery",
      "tags": [
        "!inv:flour",
        "q:baker_flour"
      ],
      "text": "The baker is delighted to see you return, but is disapointed to see you don't have any flour.",
      "options": "Explore elsewhere"
    },
    {
      "id": "Bakery",
      "tags": [
        "@inv:flour",
        "q:baker_flour"
      ],
      "text": "The baker is delighted to see you return with flour. 'Thank you! Here's some silver for your trouble.'",
      "options": [
        {
          "label": "Accept payment",
          "tags": [],
          "pass": "bakery_complete"
        }
      ]
    },
    {
      "id": "bakery_complete",
      "tags": [
        "-inv:flour",
        "+inv:silver",
        "+trait:assisted_baker",
        "-quest",
        "+done:baker_flour"
      ],
      "text": "The baker hands you a silver coin and smiles warmly.",
      "log": "Delivered flour to baker and earned silver"
    }
  ]
}
